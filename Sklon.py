
# –î–ª—è —Å–∫–ª–æ–Ω–µ–Ω–∏—è —Å–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É pymorphy2
import subprocess
import sys

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º pymorphy2 –¥–ª—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
subprocess.check_call([sys.executable, "-m", "pip", "install", "-q", "pymorphy2[fast]"])

import pymorphy2

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
morph = pymorphy2.MorphAnalyzer()

# –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö
test_words = ["–∞–≤—Ç–æ–∫–µ—Ñ–∞–ª–∏—è", "–∞–ø–æ—Å—Ç–æ–ª", "–∞–ª—Ç–∞—Ä—å", "–±–ª–∞–≥–æ–¥–∞—Ç—å", "–ë–æ–≥"]

print("–¢–µ—Å—Ç —Å–∫–ª–æ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤:\n")

for word in test_words:
    parsed = morph.parse(word)[0]
    print(f"üìñ {word.upper()}")
    
    # –°–∫–ª–æ–Ω—è–µ–º –ø–æ –≤—Å–µ–º –ø–∞–¥–µ–∂–∞–º
    cases = {
        'nomn': '–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π',
        'gent': '—Ä–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π', 
        'datv': '–¥–∞—Ç–µ–ª—å–Ω—ã–π',
        'accs': '–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π',
        'ablt': '—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π',
        'loct': '–ø—Ä–µ–¥–ª–æ–∂–Ω—ã–π'
    }
    
    for case_code, case_name in cases.items():
        inflected = parsed.inflect({case_code})
        if inflected:
            form = inflected.word
            # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–≥–ª–∞–≤–Ω—É—é –µ—Å–ª–∏ –±—ã–ª–∞
            if word[0].isupper():
                form = form.capitalize()
            print(f"   {case_name}: {form}")
    print()

print("‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ pymorphy2 —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ")
print("\n–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–º –ø–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Å–æ –≤—Å–µ–º–∏ –ø–∞–¥–µ–∂–∞–º–∏ –¥–ª—è –ø–µ—Ä–≤–æ–π –ø–∞—Ä—Ç–∏–∏ —Ç–µ—Ä–º–∏–Ω–æ–≤...")
